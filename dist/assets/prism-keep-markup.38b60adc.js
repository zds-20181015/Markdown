(function(){typeof Prism>"u"||typeof document>"u"||!document.createRange||(Prism.plugins.KeepMarkup=!0,Prism.hooks.add("before-highlight",function(n){if(!n.element.children.length||!Prism.util.isActive(n.element,"keep-markup",!0))return;var u=Prism.util.isActive(n.element,"drop-tokens",!1);function p(r){return!(u&&r.nodeName.toLowerCase()==="span"&&r.classList.contains("token"))}var e=0,s=[];function t(r){if(!p(r)){o(r);return}var i={element:r,posOpen:e};s.push(i),o(r),i.posClose=e}function o(r){for(var i=0,d=r.childNodes.length;i<d;i++){var f=r.childNodes[i];f.nodeType===1?t(f):f.nodeType===3&&(e+=f.data.length)}}o(n.element),s.length&&(n.keepMarkup=s)}),Prism.hooks.add("after-highlight",function(n){if(n.keepMarkup&&n.keepMarkup.length){var u=function(p,e){for(var s=0,t=p.childNodes.length;s<t;s++){var o=p.childNodes[s];if(o.nodeType===1){if(!u(o,e))return!1}else o.nodeType===3&&(!e.nodeStart&&e.pos+o.data.length>e.node.posOpen&&(e.nodeStart=o,e.nodeStartPos=e.node.posOpen-e.pos),e.nodeStart&&e.pos+o.data.length>=e.node.posClose&&(e.nodeEnd=o,e.nodeEndPos=e.node.posClose-e.pos),e.pos+=o.data.length);if(e.nodeStart&&e.nodeEnd){var r=document.createRange();return r.setStart(e.nodeStart,e.nodeStartPos),r.setEnd(e.nodeEnd,e.nodeEndPos),e.node.element.innerHTML="",e.node.element.appendChild(r.extractContents()),r.insertNode(e.node.element),r.detach(),!1}}return!0};n.keepMarkup.forEach(function(p){u(n.element,{node:p,pos:0})}),n.highlightedCode=n.element.innerHTML}}))})();
